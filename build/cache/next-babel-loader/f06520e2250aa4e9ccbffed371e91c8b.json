{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _message from \"antd/lib/message\";\nimport axios from 'axios';\nimport { showLoading, hideLoading } from \"./loading\";\nimport qs from 'qs';\nimport 'antd/lib/message/style/index.less';\nimport { baseURL } from \"../config\";\naxios.defaults.baseURL = baseURL;\naxios.defaults.timeout = 10000;\naxios.defaults.headers.common['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\ndelete axios.defaults.headers.common.Authorization;\ndelete axios.defaults.headers.get.Authorization; // application/x-www-form-urlencoded\n//添加请求拦截器\n\naxios.interceptors.request.use(function (config) {\n  showLoading();\n\n  if (config.method === 'post') {\n    config.data = qs.stringify(config.data);\n  }\n\n  return config;\n}, function (error) {\n  //请求错误时做些事\n  hideLoading();\n\n  _message.error('请求异常，请稍后重试！');\n\n  return _Promise.reject(error);\n}); //添加一个响应拦截器\n\naxios.interceptors.response.use(function (response) {\n  hideLoading();\n  return response;\n}, function () {\n  hideLoading(); // 4.系统错误，比如500、404等\n\n  _message.error('系统异常，请稍后重试！');\n\n  return _Promise.reject({\n    messageCode: 'sysError'\n  });\n});\nexport default axios;","map":null,"metadata":{},"sourceType":"module"}